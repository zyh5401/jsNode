<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>
<body>
<script type="text/javascript">
  /*自定义事件
    事件映射
    document.addEventListener(事件名,函数);
    当某个特性的事件触发之后，调用了所有与这个事件相关的所有函数

    1.事件存储；
    当使用document.addEventListener,把这个事件所有的函数存在一个数组中
    2.事件触发器
    当某个指定的事件触发的时候，调用这个触发器，执行触发器中的执行事件的所有函数。
  */
  //事件存储器；
  function addEvent(obj,Events,fn){
    obj.zdy = obj.zdy || {};;
    obj.zdy[Events] = obj.zdy[Events] || [];
    obj.zdy[Events].push(fn);
  }
 //触发器：
  function trigger(obj,Events){
    if(!obj.zdy[Events])return;
    for (var i = 0; i < obj.zdy[Events].length; i++) {
      obj.zdy[Events][i].call(obj)
    }
  }
  //存储到事件存储器
  addEvent(document,"点击",function () {
    alert(1);
  })
  //使用时触发器触发
  document.onclick = function(){
		trigger(this,'点击');
	}
</script>
</body>
</html>
